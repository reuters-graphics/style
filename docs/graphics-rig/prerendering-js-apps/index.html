<!DOCTYPE html><html lang="en" dir="ltr"><head>
  <style type="text/css">svg:not(:root).svg-inline--fa{overflow:visible}.svg-inline--fa{display:inline-block;font-size:inherit;height:1em;overflow:visible;vertical-align:-.125em}.svg-inline--fa.fa-lg{vertical-align:-.225em}.svg-inline--fa.fa-w-1{width:.0625em}.svg-inline--fa.fa-w-2{width:.125em}.svg-inline--fa.fa-w-3{width:.1875em}.svg-inline--fa.fa-w-4{width:.25em}.svg-inline--fa.fa-w-5{width:.3125em}.svg-inline--fa.fa-w-6{width:.375em}.svg-inline--fa.fa-w-7{width:.4375em}.svg-inline--fa.fa-w-8{width:.5em}.svg-inline--fa.fa-w-9{width:.5625em}.svg-inline--fa.fa-w-10{width:.625em}.svg-inline--fa.fa-w-11{width:.6875em}.svg-inline--fa.fa-w-12{width:.75em}.svg-inline--fa.fa-w-13{width:.8125em}.svg-inline--fa.fa-w-14{width:.875em}.svg-inline--fa.fa-w-15{width:.9375em}.svg-inline--fa.fa-w-16{width:1em}.svg-inline--fa.fa-w-17{width:1.0625em}.svg-inline--fa.fa-w-18{width:1.125em}.svg-inline--fa.fa-w-19{width:1.1875em}.svg-inline--fa.fa-w-20{width:1.25em}.svg-inline--fa.fa-pull-left{margin-right:.3em;width:auto}.svg-inline--fa.fa-pull-right{margin-left:.3em;width:auto}.svg-inline--fa.fa-border{height:1.5em}.svg-inline--fa.fa-li{width:2em}.svg-inline--fa.fa-fw{width:1.25em}.fa-layers svg.svg-inline--fa{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.fa-layers{display:inline-block;height:1em;position:relative;text-align:center;vertical-align:-.125em;width:1em}.fa-layers svg.svg-inline--fa{-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter,.fa-layers-text{display:inline-block;position:absolute;text-align:center}.fa-layers-text{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter{background-color:#ff253a;border-radius:1em;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;height:1.5em;line-height:1;max-width:5em;min-width:1.5em;overflow:hidden;padding:.25em;right:0;text-overflow:ellipsis;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-bottom-right{bottom:0;right:0;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom right;transform-origin:bottom right}.fa-layers-bottom-left{bottom:0;left:0;right:auto;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom left;transform-origin:bottom left}.fa-layers-top-right{right:0;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-top-left{left:0;right:auto;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top left;transform-origin:top left}.fa-lg{font-size:1.3333333333em;line-height:.75em;vertical-align:-.0667em}.fa-xs{font-size:.75em}.fa-sm{font-size:.875em}.fa-1x{font-size:1em}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-6x{font-size:6em}.fa-7x{font-size:7em}.fa-8x{font-size:8em}.fa-9x{font-size:9em}.fa-10x{font-size:10em}.fa-fw{text-align:center;width:1.25em}.fa-ul{list-style-type:none;margin-left:2.5em;padding-left:0}.fa-ul>li{position:relative}.fa-li{left:-2em;position:absolute;text-align:center;width:2em;line-height:inherit}.fa-border{border:solid .08em #eee;border-radius:.1em;padding:.2em .25em .15em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left,.fab.fa-pull-left,.fal.fa-pull-left,.far.fa-pull-left,.fas.fa-pull-left{margin-right:.3em}.fa.fa-pull-right,.fab.fa-pull-right,.fal.fa-pull-right,.far.fa-pull-right,.fas.fa-pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.fa-rotate-90{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-webkit-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical{-webkit-transform:scale(1,-1);transform:scale(1,-1)}.fa-flip-both,.fa-flip-horizontal.fa-flip-vertical{-webkit-transform:scale(-1,-1);transform:scale(-1,-1)}:root .fa-flip-both,:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-rotate-90{-webkit-filter:none;filter:none}.fa-stack{display:inline-block;height:2em;position:relative;width:2.5em}.fa-stack-1x,.fa-stack-2x{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.svg-inline--fa.fa-stack-1x{height:1em;width:1.25em}.svg-inline--fa.fa-stack-2x{height:2em;width:2.5em}.fa-inverse{color:#fff}.sr-only{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.sr-only-focusable:active,.sr-only-focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto}.svg-inline--fa .fa-primary{fill:var(--fa-primary-color,currentColor);opacity:1;opacity:var(--fa-primary-opacity,1)}.svg-inline--fa .fa-secondary{fill:var(--fa-secondary-color,currentColor);opacity:.4;opacity:var(--fa-secondary-opacity,.4)}.svg-inline--fa.fa-swap-opacity .fa-primary{opacity:.4;opacity:var(--fa-secondary-opacity,.4)}.svg-inline--fa.fa-swap-opacity .fa-secondary{opacity:1;opacity:var(--fa-primary-opacity,1)}.svg-inline--fa mask .fa-primary,.svg-inline--fa mask .fa-secondary{fill:#000}.fad.fa-inverse{color:#fff}</style><link href="/style/app.bc363931ec215364cb6a.css" rel="stylesheet"><title>style: Graphics Rig</title><link rel="canonical" href="https://reuters-graphics.github.io/style/graphics-rig/prerendering-js-apps/" data-react-helmet="true"><link rel="shortcut icon" href="https://reuters-graphics.github.io/style/images/favicon.11d3f3fe3b6f360c400d9e1179fcb9d0.ico" data-react-helmet="true"><meta charset="utf-8" data-react-helmet="true"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no" data-react-helmet="true"><meta name="description" content="Reuters Graphics web fashions" data-react-helmet="true"><meta name="twitter:card" value="summary" data-react-helmet="true"><meta property="og:title" content="style: Graphics Rig" data-react-helmet="true"><meta property="og:description" content="Reuters Graphics web fashions" data-react-helmet="true"><meta property="og:type" content="article" data-react-helmet="true"><meta property="og:url" content="https://reuters-graphics.github.io/style/graphics-rig/prerendering-js-apps/" data-react-helmet="true"><meta property="og:image" content="https://reuters-graphics.github.io/style/images/share.ed99821f7608e74d2c9c3445be69afa0.jpg" data-react-helmet="true"><link rel="preconnect" href="http://graphics.thomsonreuters.com"><link rel="preconnect" href="http://fonts.gstatic.com"><link rel="preconnect" href="http://themes.googleusercontent.com"></head>
  <body>
    <div id="root"><div class="HpNEmkmnb-neho-dTNXK"><div class="_3jAiy-v-hTLgTnJRSf1-zz"><div class="nav-escape"></div><div class="nav-container"><a class="github-bug" href="https://github.com/reuters-graphics/style/"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><button class="open-menu toggle"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" class="svg-inline--fa fa-bars fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"></path></svg></button><button class="close-menu toggle"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" class="svg-inline--fa fa-times fa-w-11" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg></button><a aria-current="page" class="home-link active" href="/style/"><div class="container"><div class="row no-gutters"><div class="col-auto"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35.05 32.94" width="40"><path d="M16.3,7.77a.69.69,0,1,1,0-1A.7.7,0,0,1,16.3,7.77Zm3-1.2a.87.87,0,0,0-1.24,0,.88.88,0,1,0,1.24,0Zm7,10.61a.69.69,0,0,0,1,.94.68.68,0,0,0,0-1A.69.69,0,0,0,26.28,17.18Zm-.22-3a.87.87,0,0,0,0,1.24.88.88,0,1,0,1.2-1.28A.88.88,0,0,0,26.06,14.13ZM8.77,15.76a.69.69,0,1,0-1-.95.69.69,0,0,0,1,.95Zm.22,3a.88.88,0,0,0,0-1.25.89.89,0,0,0-1.25,0,.88.88,0,0,0,0,1.24A.87.87,0,0,0,9,18.81Zm9.8,7.34a.69.69,0,0,0,1,0,.68.68,0,0,0,0-1,.69.69,0,0,0-.95,1Zm-3,.22A.88.88,0,0,0,17,25.09a.88.88,0,1,0-1.21,1.28Zm-2.34-16a.54.54,0,1,0,.37.67A.54.54,0,0,0,13.4,10.41Zm2-1.19a.68.68,0,1,0,.46.85A.68.68,0,0,0,15.37,9.22ZM23.61,14a.53.53,0,0,0,.36.67.54.54,0,0,0,.31-1A.54.54,0,0,0,23.61,14Zm-1.19-2a.68.68,0,1,0,1.31.38.67.67,0,0,0-.46-.84A.68.68,0,0,0,22.42,12Zm-11,7a.53.53,0,0,0-.37-.66.52.52,0,0,0-.66.36.53.53,0,0,0,.36.67A.54.54,0,0,0,11.45,19Zm1.19,2a.69.69,0,1,0-.85.46A.68.68,0,0,0,12.64,20.94Zm9,1.59a.54.54,0,1,0-.36-.67A.53.53,0,0,0,21.65,22.53Zm-2,1.19a.68.68,0,1,0-.47-.85A.68.68,0,0,0,19.69,23.72Zm-7.45-8.35a.48.48,0,0,0-.19.64.47.47,0,0,0,.83-.45A.47.47,0,0,0,12.24,15.37Zm.43-1.59a.54.54,0,1,0,.73.22A.54.54,0,0,0,12.67,13.78Zm6.65-1.69a.48.48,0,0,0,.64.19.47.47,0,0,0-.44-.84A.49.49,0,0,0,19.32,12.09Zm-1.59-.43a.54.54,0,0,0,.73.22.54.54,0,0,0-.51-1A.54.54,0,0,0,17.73,11.66Zm-2,9.18a.49.49,0,0,0-.64-.19.47.47,0,0,0,.44.84A.49.49,0,0,0,15.74,20.84Zm1.59.43a.54.54,0,0,0-1,.51.54.54,0,0,0,1-.51Zm5.49-3.71a.47.47,0,0,0-.45-.83.47.47,0,1,0,.45.83Zm-.44,1.59a.54.54,0,1,0-.72-.22A.54.54,0,0,0,22.38,19.15ZM26.36,3a1,1,0,0,0-.75-1.15,1,1,0,0,0-1.15.74,1,1,0,0,0,.75,1.16A1,1,0,0,0,26.36,3Zm3.48,2.49a1.18,1.18,0,1,0-1.35,1A1.18,1.18,0,0,0,29.84,5.51Zm2.8,3.23a1.47,1.47,0,0,0-2.93-.31,1.47,1.47,0,1,0,2.93.31ZM25.21,29.17a1,1,0,1,0,1.15.75A1,1,0,0,0,25.21,29.17Zm3.28-2.72a1.18,1.18,0,1,0,.37,2.33,1.18,1.18,0,1,0-.37-2.33ZM31,22.89a1.47,1.47,0,1,0,1.62,1.31A1.48,1.48,0,0,0,31,22.89ZM9.85,3.77A1,1,0,1,0,8.69,3,1,1,0,0,0,9.85,3.77ZM6.57,6.49A1.18,1.18,0,1,0,6.2,4.16a1.16,1.16,0,0,0-1,1.35A1.18,1.18,0,0,0,6.57,6.49ZM4,10.05A1.47,1.47,0,1,0,2.41,8.74,1.47,1.47,0,0,0,4,10.05ZM8.69,29.92a1,1,0,1,0,1.91.4,1,1,0,0,0-1.91-.4ZM5.22,27.43a1.18,1.18,0,1,0,2.33.37,1.18,1.18,0,0,0-2.33-.37ZM2.42,24.2a1.45,1.45,0,0,0,1.3,1.61A1.47,1.47,0,1,0,4,22.89,1.46,1.46,0,0,0,2.42,24.2ZM19.7,4.1a.76.76,0,0,0-1.49.29.77.77,0,0,0,.9.6A.75.75,0,0,0,19.7,4.1ZM23,4.8a.92.92,0,1,0-.66,1.12A.92.92,0,0,0,23,4.8Zm3,1.46a1.15,1.15,0,1,0-.75,1.43A1.15,1.15,0,0,0,26,6.26ZM27,23.2a.76.76,0,1,0,1.06.18A.77.77,0,0,0,27,23.2Zm1.51-3a.92.92,0,1,0,1,1.55.93.93,0,0,0,.28-1.27A.91.91,0,0,0,28.47,20.24Zm.72-3.34a1.15,1.15,0,1,0,1.56.44A1.15,1.15,0,0,0,29.19,16.9ZM8.09,9.74A.76.76,0,1,0,7,9.56.77.77,0,0,0,8.09,9.74Zm-1.51,3a.92.92,0,0,0,.29-1.27.91.91,0,0,0-1.27-.28.92.92,0,1,0,1,1.55ZM5.86,16A1.15,1.15,0,1,0,4.3,15.6,1.14,1.14,0,0,0,5.86,16Zm9.49,12.8a.76.76,0,1,0,1.49-.3.76.76,0,0,0-1.49.3Zm-3.26-.71a.92.92,0,1,0,1.79-.45A.94.94,0,0,0,12.75,27,.93.93,0,0,0,12.09,28.13Zm-3-1.45A1.15,1.15,0,0,0,11.27,26a1.15,1.15,0,1,0-2.19.68ZM24.71,8.84a1.14,1.14,0,1,0-1.56,1.66,1.13,1.13,0,0,0,1.6-.05A1.14,1.14,0,0,0,24.71,8.84ZM22.19,7.31a1,1,0,1,0-1.35,1.43,1,1,0,1,0,1.35-1.43Zm2.81,4a1,1,0,1,0,1.39,0A1,1,0,0,0,25,11.3ZM12,24a1.13,1.13,0,0,0,0-1.6,1.14,1.14,0,1,0-1.56,1.65A1.13,1.13,0,0,0,12,24Zm-1.89-2.41a1,1,0,1,0-1.4.05A1,1,0,0,0,10.06,21.63Zm2.8,4a1,1,0,1,0,0-1.39A1,1,0,0,0,12.86,25.63ZM19.75,8.9a.89.89,0,1,0,.6,1.1A.88.88,0,0,0,19.75,8.9Zm-2.2-.17a.77.77,0,0,0-1,.52.78.78,0,0,0,.52,1,.78.78,0,0,0,1-.52A.77.77,0,0,0,17.55,8.73Zm3.19,1.74a.78.78,0,0,0,.53,1A.77.77,0,0,0,21.7,10,.78.78,0,0,0,20.74,10.47Zm-4.34,13a.89.89,0,1,0-1.7-.5.89.89,0,0,0,.6,1.1A.88.88,0,0,0,16.4,23.44Zm-2.09-1a.77.77,0,1,0-1,.52A.76.76,0,0,0,14.31,22.47Zm3.2,1.74a.77.77,0,0,0,1-.52A.77.77,0,1,0,17,23.26.76.76,0,0,0,17.51,24.21ZM14.77,11.37a.68.68,0,0,0-.27.93.69.69,0,1,0,.27-.93Zm-1.22,1a.61.61,0,0,0-.25.83.6.6,0,0,0,.82.24.6.6,0,0,0,.25-.82A.61.61,0,0,0,13.55,12.4Zm2.53-.67a.61.61,0,0,0,.82.25.62.62,0,0,0,.24-.83.6.6,0,1,0-1.06.58Zm4.48,8.91a.69.69,0,1,0-.28.93A.69.69,0,0,0,20.56,20.64ZM19,21.2a.61.61,0,0,0-.82-.24A.6.6,0,0,0,18.74,22,.6.6,0,0,0,19,21.2Zm2.54-.68a.6.6,0,0,0,.24-.82.61.61,0,0,0-1.07.58A.62.62,0,0,0,21.52,20.52Zm13.53-4.05a1.77,1.77,0,1,0-1.76,1.76A1.76,1.76,0,0,0,35.05,16.47Zm-.68-4A1.62,1.62,0,1,0,32.67,14,1.61,1.61,0,0,0,34.37,12.47Zm-1.7,6.46a1.62,1.62,0,1,0,1.7,1.53A1.62,1.62,0,0,0,32.67,18.93Zm-30.9-.7A1.76,1.76,0,1,0,0,16.47,1.76,1.76,0,0,0,1.77,18.23ZM2.38,14a1.62,1.62,0,1,0-.17-3.24A1.62,1.62,0,0,0,2.38,14ZM.68,20.46a1.62,1.62,0,1,0,1.7-1.53A1.62,1.62,0,0,0,.68,20.46Zm29.41-9.41a1.38,1.38,0,1,0-.72,1.81A1.38,1.38,0,0,0,30.09,11.05ZM28.37,8.39a1.27,1.27,0,0,0-1.63-.74A1.26,1.26,0,0,0,27.62,10,1.27,1.27,0,0,0,28.37,8.39Zm.77,5.16a1.27,1.27,0,1,0,1.7.57A1.27,1.27,0,0,0,29.14,13.55ZM6.77,22.61A1.38,1.38,0,1,0,5,21.89,1.38,1.38,0,0,0,6.77,22.61Zm-.86-3.22a1.27,1.27,0,1,0-1.7-.58A1.27,1.27,0,0,0,5.91,19.39Zm.77,5.15a1.27,1.27,0,1,0,.75-1.62A1.27,1.27,0,0,0,6.68,24.54Z"></path><path d="M13.45,8.66a.57.57,0,0,1-.8,0,.57.57,0,1,1,.78-.82A.56.56,0,0,1,13.45,8.66ZM11,9.76a.42.42,0,0,0-.59,0,.41.41,0,1,0,.6.57A.42.42,0,0,0,11,9.76ZM25.56,20.07a.57.57,0,0,0,0,.8.56.56,0,0,0,.79,0,.56.56,0,0,0,0-.79A.58.58,0,0,0,25.56,20.07ZM24,22.58a.42.42,0,1,0,.61.57.4.4,0,0,0,0-.58A.41.41,0,0,0,24,22.58ZM9.49,12.86a.56.56,0,1,0-.81-.77.56.56,0,1,0,.81.77ZM21.63,25.07a.56.56,0,0,0,.79,0,.56.56,0,0,0-.81-.77A.56.56,0,0,0,21.63,25.07Zm-9.76-13a.46.46,0,0,0-.55.3.45.45,0,0,0,.3.54.43.43,0,0,0,.54-.29A.44.44,0,0,0,11.87,12.09Zm-1,2.09a.33.33,0,0,0-.19.63.33.33,0,0,0,.41-.22A.33.33,0,0,0,10.9,14.18Zm13.21,2a.43.43,0,0,0,.3.54.44.44,0,0,0,.54-.3.43.43,0,0,0-.29-.54A.44.44,0,0,0,24.11,16.15Zm-.17,2.2a.32.32,0,1,0,.62.18.32.32,0,0,0-.62-.18Zm-13-1.56a.43.43,0,0,0-.29-.54.45.45,0,0,0-.55.3.44.44,0,0,0,.3.54A.45.45,0,0,0,10.94,16.79Zm12.25,4.05a.43.43,0,0,0,.54-.29.44.44,0,0,0-.29-.55.46.46,0,0,0-.55.3A.44.44,0,0,0,23.19,20.84ZM12.31,17a.41.41,0,0,0-.16.55.4.4,0,0,0,.55.16.41.41,0,0,0-.39-.71Zm.57,1.56a.34.34,0,1,0,.45.14A.34.34,0,0,0,12.88,18.59ZM20.7,13a.4.4,0,1,0,.71-.38.4.4,0,1,0-.71.38Zm1,1.24a.34.34,0,0,0,.45.14.33.33,0,0,0,.14-.46.34.34,0,1,0-.59.32ZM14.36,20a.4.4,0,0,0-.71.38.4.4,0,0,0,.71-.38Zm8.38-4.06a.42.42,0,0,0,.17-.56.4.4,0,0,0-.55-.16.41.41,0,0,0,.38.72ZM18.24.71a.71.71,0,1,0-.71.71A.71.71,0,0,0,18.24.71Zm-.71,30.81a.71.71,0,1,0,.71.71A.71.71,0,0,0,17.53,31.52ZM21.41,31a.75.75,0,0,0-.54.93.77.77,0,0,0,.93.54A.76.76,0,0,0,21.41,31Zm-7.77,0a.76.76,0,0,0-.93.54.76.76,0,1,0,1.47.39A.75.75,0,0,0,13.64,31Zm8.7-29.52a.76.76,0,1,0-.93.54A.76.76,0,0,0,22.34,1.44Zm-8.16-.39a.76.76,0,1,0-.54.93A.75.75,0,0,0,14.18,1.05Zm-1,3.9a.56.56,0,0,0-.73-.29.56.56,0,0,0,.44,1A.56.56,0,0,0,13.16,5Zm9,22.31a.56.56,0,1,0,.73.29A.56.56,0,0,0,22.18,27.26Zm2.61-1.6a.59.59,0,0,0-.1.83.59.59,0,1,0,.93-.74A.59.59,0,0,0,24.79,25.66Zm-5.57,2.4a.59.59,0,0,0-.5.67.6.6,0,1,0,.5-.67ZM16.33,4.21a.59.59,0,1,0-1.17.17.59.59,0,0,0,1.17-.17Zm-6,2.24a.59.59,0,0,0-.83-.1.58.58,0,0,0-.1.83.59.59,0,0,0,.83.1A.58.58,0,0,0,10.36,6.45Z"></path><path d="M16.3,7.77a.69.69,0,1,1,0-1A.7.7,0,0,1,16.3,7.77Zm3-1.2a.87.87,0,0,0-1.24,0,.88.88,0,1,0,1.24,0Zm7,10.61a.69.69,0,0,0,1,.94.68.68,0,0,0,0-1A.69.69,0,0,0,26.28,17.18Zm-.22-3a.87.87,0,0,0,0,1.24.88.88,0,1,0,1.2-1.28A.88.88,0,0,0,26.06,14.13ZM8.77,15.76a.69.69,0,1,0-1-.95.69.69,0,0,0,1,.95Zm.22,3a.88.88,0,0,0,0-1.25.89.89,0,0,0-1.25,0,.88.88,0,0,0,0,1.24A.87.87,0,0,0,9,18.81Zm9.8,7.34a.69.69,0,0,0,1,0,.68.68,0,0,0,0-1,.69.69,0,0,0-.95,1Zm-3,.22A.88.88,0,0,0,17,25.09a.88.88,0,1,0-1.21,1.28Zm-2.34-16a.54.54,0,1,0,.37.67A.54.54,0,0,0,13.4,10.41Zm2-1.19a.68.68,0,1,0,.46.85A.68.68,0,0,0,15.37,9.22ZM23.61,14a.53.53,0,0,0,.36.67.54.54,0,0,0,.31-1A.54.54,0,0,0,23.61,14Zm-1.19-2a.68.68,0,1,0,1.31.38.67.67,0,0,0-.46-.84A.68.68,0,0,0,22.42,12Zm-11,7a.53.53,0,0,0-.37-.66.52.52,0,0,0-.66.36.53.53,0,0,0,.36.67A.54.54,0,0,0,11.45,19Zm1.19,2a.69.69,0,1,0-.85.46A.68.68,0,0,0,12.64,20.94Zm9,1.59a.54.54,0,1,0-.36-.67A.53.53,0,0,0,21.65,22.53Zm-2,1.19a.68.68,0,1,0-.47-.85A.68.68,0,0,0,19.69,23.72Zm-7.45-8.35a.48.48,0,0,0-.19.64.47.47,0,0,0,.83-.45A.47.47,0,0,0,12.24,15.37Zm.43-1.59a.54.54,0,1,0,.73.22A.54.54,0,0,0,12.67,13.78Zm6.65-1.69a.48.48,0,0,0,.64.19.47.47,0,0,0-.44-.84A.49.49,0,0,0,19.32,12.09Zm-1.59-.43a.54.54,0,0,0,.73.22.54.54,0,0,0-.51-1A.54.54,0,0,0,17.73,11.66Zm-2,9.18a.49.49,0,0,0-.64-.19.47.47,0,0,0,.44.84A.49.49,0,0,0,15.74,20.84Zm1.59.43a.54.54,0,0,0-1,.51.54.54,0,0,0,1-.51Zm5.49-3.71a.47.47,0,0,0-.45-.83.47.47,0,1,0,.45.83Zm-.44,1.59a.54.54,0,1,0-.72-.22A.54.54,0,0,0,22.38,19.15ZM26.36,3a1,1,0,0,0-.75-1.15,1,1,0,0,0-1.15.74,1,1,0,0,0,.75,1.16A1,1,0,0,0,26.36,3Zm3.48,2.49a1.18,1.18,0,1,0-1.35,1A1.18,1.18,0,0,0,29.84,5.51Zm2.8,3.23a1.47,1.47,0,0,0-2.93-.31,1.47,1.47,0,1,0,2.93.31ZM25.21,29.17a1,1,0,1,0,1.15.75A1,1,0,0,0,25.21,29.17Zm3.28-2.72a1.18,1.18,0,1,0,.37,2.33,1.18,1.18,0,1,0-.37-2.33ZM31,22.89a1.47,1.47,0,1,0,1.62,1.31A1.48,1.48,0,0,0,31,22.89ZM9.85,3.77A1,1,0,1,0,8.69,3,1,1,0,0,0,9.85,3.77ZM6.57,6.49A1.18,1.18,0,1,0,6.2,4.16a1.16,1.16,0,0,0-1,1.35A1.18,1.18,0,0,0,6.57,6.49ZM4,10.05A1.47,1.47,0,1,0,2.41,8.74,1.47,1.47,0,0,0,4,10.05ZM8.69,29.92a1,1,0,1,0,1.91.4,1,1,0,0,0-1.91-.4ZM5.22,27.43a1.18,1.18,0,1,0,2.33.37,1.18,1.18,0,0,0-2.33-.37ZM2.42,24.2a1.45,1.45,0,0,0,1.3,1.61A1.47,1.47,0,1,0,4,22.89,1.46,1.46,0,0,0,2.42,24.2ZM19.7,4.1a.76.76,0,0,0-1.49.29.77.77,0,0,0,.9.6A.75.75,0,0,0,19.7,4.1ZM23,4.8a.92.92,0,1,0-.66,1.12A.92.92,0,0,0,23,4.8Zm3,1.46a1.15,1.15,0,1,0-.75,1.43A1.15,1.15,0,0,0,26,6.26ZM27,23.2a.76.76,0,1,0,1.06.18A.77.77,0,0,0,27,23.2Zm1.51-3a.92.92,0,1,0,1,1.55.93.93,0,0,0,.28-1.27A.91.91,0,0,0,28.47,20.24Zm.72-3.34a1.15,1.15,0,1,0,1.56.44A1.15,1.15,0,0,0,29.19,16.9ZM8.09,9.74A.76.76,0,1,0,7,9.56.77.77,0,0,0,8.09,9.74Zm-1.51,3a.92.92,0,0,0,.29-1.27.91.91,0,0,0-1.27-.28.92.92,0,1,0,1,1.55ZM5.86,16A1.15,1.15,0,1,0,4.3,15.6,1.14,1.14,0,0,0,5.86,16Zm9.49,12.8a.76.76,0,1,0,1.49-.3.76.76,0,0,0-1.49.3Zm-3.26-.71a.92.92,0,1,0,1.79-.45A.94.94,0,0,0,12.75,27,.93.93,0,0,0,12.09,28.13Zm-3-1.45A1.15,1.15,0,0,0,11.27,26a1.15,1.15,0,1,0-2.19.68Z"></path><path d="M24.75,10.45a1.13,1.13,0,0,1-1.6.05,1.14,1.14,0,1,1,1.6-.05ZM22.19,7.31a1,1,0,1,0-1.35,1.43,1,1,0,1,0,1.35-1.43Zm2.81,4a1,1,0,1,0,1.39,0A1,1,0,0,0,25,11.3ZM12,24a1.13,1.13,0,0,0,0-1.6,1.14,1.14,0,1,0-1.56,1.65A1.13,1.13,0,0,0,12,24Zm-1.89-2.41a1,1,0,1,0-1.4.05A1,1,0,0,0,10.06,21.63Zm2.8,4a1,1,0,1,0,0-1.39A1,1,0,0,0,12.86,25.63ZM19.75,8.9a.89.89,0,1,0,.6,1.1A.88.88,0,0,0,19.75,8.9Zm-2.2-.17a.77.77,0,0,0-1,.52.78.78,0,0,0,.52,1,.78.78,0,0,0,1-.52A.77.77,0,0,0,17.55,8.73Zm3.19,1.74a.78.78,0,0,0,.53,1A.77.77,0,0,0,21.7,10,.78.78,0,0,0,20.74,10.47Zm-4.34,13a.89.89,0,1,0-1.7-.5.89.89,0,0,0,.6,1.1A.88.88,0,0,0,16.4,23.44Zm-2.09-1a.77.77,0,1,0-1,.52A.76.76,0,0,0,14.31,22.47Zm3.2,1.74a.77.77,0,0,0,1-.52A.77.77,0,1,0,17,23.26.76.76,0,0,0,17.51,24.21ZM14.77,11.37a.68.68,0,0,0-.27.93.69.69,0,1,0,.27-.93Zm-1.22,1a.61.61,0,0,0-.25.83.6.6,0,0,0,.82.24.6.6,0,0,0,.25-.82A.61.61,0,0,0,13.55,12.4Zm2.53-.67a.61.61,0,0,0,.82.25.62.62,0,0,0,.24-.83.6.6,0,1,0-1.06.58Zm4.48,8.91a.69.69,0,1,0-.28.93A.69.69,0,0,0,20.56,20.64ZM19,21.2a.61.61,0,0,0-.82-.24A.6.6,0,0,0,18.74,22,.6.6,0,0,0,19,21.2Zm2.54-.68a.6.6,0,0,0,.24-.82.61.61,0,0,0-1.07.58A.62.62,0,0,0,21.52,20.52Zm13.53-4.05a1.77,1.77,0,1,0-1.76,1.76A1.76,1.76,0,0,0,35.05,16.47Zm-.68-4A1.62,1.62,0,1,0,32.67,14,1.61,1.61,0,0,0,34.37,12.47Zm-1.7,6.46a1.62,1.62,0,1,0,1.7,1.53A1.62,1.62,0,0,0,32.67,18.93Zm-30.9-.7A1.76,1.76,0,1,0,0,16.47,1.76,1.76,0,0,0,1.77,18.23ZM2.38,14a1.62,1.62,0,1,0-.17-3.24A1.62,1.62,0,0,0,2.38,14ZM.68,20.46a1.62,1.62,0,1,0,1.7-1.53A1.62,1.62,0,0,0,.68,20.46Zm29.41-9.41a1.38,1.38,0,1,0-.72,1.81A1.38,1.38,0,0,0,30.09,11.05ZM28.37,8.39a1.27,1.27,0,0,0-1.63-.74A1.26,1.26,0,0,0,27.62,10,1.27,1.27,0,0,0,28.37,8.39Zm.77,5.16a1.27,1.27,0,1,0,1.7.57A1.27,1.27,0,0,0,29.14,13.55ZM6.77,22.61A1.38,1.38,0,1,0,5,21.89,1.38,1.38,0,0,0,6.77,22.61Zm-.86-3.22a1.27,1.27,0,1,0-1.7-.58A1.27,1.27,0,0,0,5.91,19.39Zm.77,5.15a1.27,1.27,0,1,0,.75-1.62A1.27,1.27,0,0,0,6.68,24.54Z"></path></svg></div><div class="col"><div class="team-logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 92.92 14.63" width="75"><path d="M11.62,14.46H9.16c-.22,0-.3-.21-.4-.41L5.86,9.17H5.41c-.52,0-2.15-.05-2.61-.08v5a.4.4,0,0,1-.39.41H.4a.41.41,0,0,1-.4-.41V.86C0,.46.24.32.64.26A41.51,41.51,0,0,1,5.41,0c3.1,0,6,1.11,6,4.55v.18A3.87,3.87,0,0,1,8.66,8.67l3.16,5.38a.28.28,0,0,1,0,.17A.23.23,0,0,1,11.62,14.46Zm-3-9.91C8.6,3,7.43,2.39,5.41,2.39c-.42,0-2.25,0-2.61.09V6.84c.32,0,2.27.06,2.61.06,2.08,0,3.19-.4,3.19-2.17Zm8.62,5.94c0,1.69.07,1.73,1.59,1.73h5.1a.4.4,0,0,1,.4.41v1.28c0,.28-.1.39-.4.42a26.11,26.11,0,0,1-4.35.28c-3.34,0-5.11,0-5.11-4.12V4.12C14.45,0,16.22,0,19.56,0a27.33,27.33,0,0,1,4.35.28c.3,0,.4.14.4.43V2a.4.4,0,0,1-.4.4h-5.1c-1.52,0-1.59,0-1.59,1.73V6h6.45a.4.4,0,0,1,.4.4V7.82a.4.4,0,0,1-.4.4H17.22Zm16.13,4.12c-3.24,0-6-1.4-6-5.69V.54a.38.38,0,0,1,.4-.38h2a.38.38,0,0,1,.4.38V8.92c0,2.29,1.07,3.38,3.24,3.38s3.23-1.09,3.23-3.38V.54A.38.38,0,0,1,37,.16h2a.38.38,0,0,1,.4.38V8.92C39.38,13.21,36.59,14.61,33.35,14.61ZM52.61,2.49h-4V14.05a.42.42,0,0,1-.41.41h-2a.42.42,0,0,1-.41-.41V2.49h-4a.37.37,0,0,1-.4-.36V.54a.38.38,0,0,1,.4-.38H52.61a.38.38,0,0,1,.4.38V2.13A.37.37,0,0,1,52.61,2.49Zm27.33,12H77.48c-.21,0-.29-.21-.39-.41l-2.9-4.88h-.45c-.52,0-2.15-.05-2.62-.08v5a.39.39,0,0,1-.38.41h-2a.41.41,0,0,1-.4-.41V.86c0-.4.24-.54.64-.6A41.51,41.51,0,0,1,73.74,0c3.1,0,6,1.11,6,4.55v.18A3.87,3.87,0,0,1,77,8.67l3.17,5.38a.28.28,0,0,1,0,.17A.23.23,0,0,1,79.94,14.46Zm-3-9.91c0-1.51-1.18-2.16-3.19-2.16-.42,0-2.25,0-2.62.09V6.84c.33,0,2.28.06,2.62.06,2.07,0,3.19-.4,3.19-2.17Zm10.7,10.08a22.21,22.21,0,0,1-4.56-.53.44.44,0,0,1-.38-.4V12.25a.4.4,0,0,1,.38-.39h.05a34.51,34.51,0,0,0,4.55.37c1.79,0,2.33-.64,2.33-1.81,0-1.51-3.6-2.35-5.36-3.07a3.6,3.6,0,0,1-2.37-3.52C82.27,1.62,84.06,0,87.8,0a20.07,20.07,0,0,1,4.35.52.4.4,0,0,1,.36.39V2.41a.34.34,0,0,1-.34.36h0a42.64,42.64,0,0,0-4.45-.37c-1.49,0-2.61.53-2.61,1.43,0,.66.76,1.27,1.65,1.63l3.4,1.34c1.7.69,2.8,1.69,2.8,3.62S91.65,14.63,87.63,14.63ZM57.86,10.49c0,1.69.06,1.73,1.59,1.73h5.1a.41.41,0,0,1,.4.41v1.28c0,.28-.1.39-.4.42a26.11,26.11,0,0,1-4.35.28c-3.35,0-5.12,0-5.12-4.12V4.12C55.08,0,56.85,0,60.2,0a27.33,27.33,0,0,1,4.35.28c.3,0,.4.14.4.43V2a.41.41,0,0,1-.4.4h-5.1c-1.53,0-1.59,0-1.59,1.73V6H64.3a.39.39,0,0,1,.4.4V7.82a.39.39,0,0,1-.4.4H57.86Z"></path></svg> Graphics</div></div></div></div></a><nav class="nav flex-column"><a aria-current="page" class="nav-item active" href="/style/graphics-rig/">Graphics rig</a><a class="nav-item" href="/style/fonts/">Fonts</a><a class="nav-item" href="/style/colors/">Colors</a><a class="nav-item" href="/style/linters/">Linters</a><a class="nav-item" href="/style/snippets/">Snippets</a><a class="nav-item" href="/style/themes/eisbaer/">Theme: Eisb√§r</a></nav></div></div><div class="well"><div class="container"><div class="row no-gutters"><div class="col-12"><div class="_3bRRMfx17kYlJt0s_tB0A8"><a aria-current="page" class="active" href="/style/graphics-rig/"><h1 class="small"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="wrench" class="svg-inline--fa fa-wrench fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"></path></svg> Graphics Rig</h1></a><div class="_2dUoZ7VINfR90VE775er63"><nav class=""><a class="nav-item" href="/style/graphics-rig/quickstart/">Quickstart</a><a class="nav-item" href="/style/graphics-rig/writing-code/">Writing code</a><a class="nav-item" href="/style/graphics-rig/working-with-media-files/">Working with media files</a><a class="nav-item" href="/style/graphics-rig/embeddable-page/">Embeddable page</a><a class="nav-item" href="/style/graphics-rig/copy-and-translation/">Copy and translation</a><a class="nav-item" href="/style/graphics-rig/metadata/">Metadata</a><a class="nav-item" href="/style/graphics-rig/ai2html/">ai2html</a><a class="nav-item" href="/style/graphics-rig/google-docs/">Google docs</a><a aria-current="page" class="nav-item active" href="/style/graphics-rig/prerendering-js-apps/">Prerendering JS apps</a><a class="nav-item" href="/style/graphics-rig/faq/">FAQ</a></nav></div><div class="markdown-default"><p>"Prerendering" is the concept of rendering and injecting JavaScript-generated content into the static HTML of your page before publishing it to the web.</p><p>Prerendering a JS app makes your page significantly faster to load for a reader and lets bots and crawlers see your content, which improves your page's SEO. In some cases, it may even let you skip JavaScript altogether, making your page much lighter weight.</p><p>The graphics rig comes with tools to let you build and prerender JavaScript applications using modern frameworks like <a href="https://reactjs.org/">React</a>, with templating engines like <a href="https://ejs.co/">EJS</a>, or using plain ES6 JavaScript syntax like <a href="https://wesbos.com/template-strings-html/">template strings</a>.</p><h2 id="Contents">Contents</h2><ul><li><a href="#Quickstart">Quickstart</a><ul><li><a href="#Step-1-HTML">Step 1: HTML</a></li><li><a href="#Step-2-JS">Step 2: JS</a><ul><li><a href="#EJS-example">EJS example</a></li><li><a href="#React-example">React example</a></li></ul></li><li><a href="#Step-3-Register-your-app">Step 3: Register your app</a><ul><li><a href="#Static-only-apps">Static-only apps</a></li></ul></li></ul></li><li><a href="#Advanced-techniques">Advanced techniques</a><ul><li><a href="#Using-local-data">Using local data</a></li><li><a href="#Using-remote-data-async">Using remote data (async)</a></li><li><a href="#Multiple-EJS-templates">Multiple EJS templates</a></li><li><a href="#Static-shells">Static shells</a></li><li><a href="#More-configuration">More configuration</a></li></ul></li></ul><h2 id="Quickstart">Quickstart</h2><h3 id="Step-1-HTML">Step 1: HTML</h3><p>Make a container element in your HTML and be sure it has a unique ID. The rig will use this placeholder to inject your prerendered JS content into the page. Remember, anything inside this container will be replaced by your JS content, so it's generally best to make it an empty div.</p><div class="_1LYYVvjlAsI0ak-3q0HM3f"><pre class="refractor"><code class="language-html"><span class="token comment">&lt;!-- article.ejs --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app-root<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><button class="copy"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path></svg></button></div><h3 id="Step-2-JS">Step 2: JS</h3><p>Make a new JavaScript file that will be the entry point for your application. Your new script should export a default function, which <strong>must return a string of HTML when run.</strong></p><p>Here's an example using template strings:</p><div class="_1LYYVvjlAsI0ak-3q0HM3f"><pre class="refractor"><code class="language-js"><span class="token comment">// myApp.js</span>

<span class="token keyword">const</span> somePeople <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Ada Lovelace'</span><span class="token punctuation">,</span> <span class="token string">'Grace Hopper'</span><span class="token punctuation">,</span> <span class="token string">'Edith Clarke'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">makeRow</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">makeList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">names</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;ul&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>names<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>makeRow<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/ul&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">makeHTML</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">makeList</span><span class="token punctuation">(</span>somePeople<span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// This function is what the rig will call to render your content!</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">makeHTML</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><button class="copy"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path></svg></button></div><p>To make sure your script also works in the browser during development, you should also write code to inject the content into your page.</p><div class="_1LYYVvjlAsI0ak-3q0HM3f"><pre class="refractor"><code class="language-js"><span class="token comment">// myApp.js</span>

<span class="token keyword">const</span> somePeople <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Ada Lovelace'</span><span class="token punctuation">,</span> <span class="token string">'Grace Hopper'</span><span class="token punctuation">,</span> <span class="token string">'Edith Clarke'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">makeRow</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">makeList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">names</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;ul&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>names<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>makeRow<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/ul&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">makeHTML</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">makeList</span><span class="token punctuation">(</span>somePeople<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// This will render your content into #app-root in the browser!</span>
<div class="refractor-marker">document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'app-root'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token function">makeHTML</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</div>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">makeHTML</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><button class="copy"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path></svg></button></div><p>To save a step when your code is run, you can also conditionally render in the browser only if your container hasn't already been filled with your content.</p><div class="_1LYYVvjlAsI0ak-3q0HM3f"><pre class="refractor"><code class="language-js"><span class="token comment">// myApp.js</span>

<span class="token keyword">const</span> somePeople <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Ada Lovelace'</span><span class="token punctuation">,</span> <span class="token string">'Grace Hopper'</span><span class="token punctuation">,</span> <span class="token string">'Edith Clarke'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">makeRow</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">makeList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">names</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;ul&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>names<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>makeRow<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/ul&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">makeHTML</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">makeList</span><span class="token punctuation">(</span>somePeople<span class="token punctuation">)</span><span class="token punctuation">;</span>

<div class="refractor-marker"><span class="token keyword">const</span> <span class="token constant">APP_ROOT</span> <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'app-root'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</div><div class="refractor-marker">
</div><div class="refractor-marker"><span class="token comment">// If container is empty, then we inject the content ourselves.</span>
</div><div class="refractor-marker"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token constant">APP_ROOT</span><span class="token punctuation">.</span><span class="token function">hasChildNodes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</div><div class="refractor-marker">  <span class="token constant">APP_ROOT</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token function">makeHTML</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</div><div class="refractor-marker"><span class="token punctuation">}</span>
</div>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">makeHTML</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><button class="copy"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path></svg></button></div><p>Here are a few more examples of similar apps using EJS and React:</p><h4 id="EJS-example">EJS example</h4><div class="_1LYYVvjlAsI0ak-3q0HM3f"><pre class="refractor"><code class="language-js"><span class="token comment">// myApp.js</span>
<span class="token keyword">import</span> myTemplate <span class="token keyword">from</span> <span class="token string">'./myTemplate.ejs'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">APP_ROOT</span> <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'app-root'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token constant">APP_ROOT</span><span class="token punctuation">.</span><span class="token function">hasChildNodes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token constant">APP_ROOT</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token function">myTemplate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">myTemplate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><button class="copy"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path></svg></button></div><h4 id="React-example">React example</h4><div class="_1LYYVvjlAsI0ak-3q0HM3f"><pre class="refractor"><code class="language-js"><span class="token comment">// myApp.js</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> renderToString <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-dom/server'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> MyComponent <span class="token keyword">from</span> <span class="token string">'./myComponent'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">APP_ROOT</span> <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'app-root'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">APP_ROOT</span><span class="token punctuation">.</span><span class="token function">hasChildNodes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  ReactDOM<span class="token punctuation">.</span><span class="token function">hydrate</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>MyComponent <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token constant">APP_ROOT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>MyComponent <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token constant">APP_ROOT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">renderToString</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>MyComponent <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><button class="copy"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path></svg></button></div><h3 id="Step-3-Register-your-app">Step 3: Register your app</h3><p>Lastly, you need to register your app for prerendering.</p><p>Create a file at <code>src/js/prerenderApps.js</code> and add a configuration object to the array like this:</p><div class="_1LYYVvjlAsI0ak-3q0HM3f"><pre class="refractor"><code class="language-js"><span class="token comment">// src/js/prerenderApps.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    script<span class="token punctuation">:</span> <span class="token string">'myApp.js'</span><span class="token punctuation">,</span>
    selector<span class="token punctuation">:</span> <span class="token string">'#app-root'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><button class="copy"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path></svg></button></div><p><code>script</code> is the path to your app script, relative to the <code>src/js/</code> directory.</p><p><code>selector</code> is the query selector for the container div in your HTML.</p><h4 id="Static-only-apps">Static-only apps</h4><p>If your JS content will never change in response to any reader interactions -- i.e., is <a href="/style/graphics-rig/writing-code/#Server-vs-client-static-vs-dynamic"><strong>static</strong></a> -- then there's not really a reason for you to render your JavaScript app a second time when the user loads the page.</p><p>In this case you can tell the rig to exclude your app's script from the page after it renders and injects the JS content. Just set <code>staticOnly</code> to <code>true</code> on your configuration object.</p><div class="_1LYYVvjlAsI0ak-3q0HM3f"><pre class="refractor"><code class="language-js"><span class="token comment">// src/js/prerenderApps.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    script<span class="token punctuation">:</span> <span class="token string">'myApp.js'</span><span class="token punctuation">,</span>
    selector<span class="token punctuation">:</span> <span class="token string">'#app-root'</span><span class="token punctuation">,</span>
<div class="refractor-marker">    staticOnly<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</div>  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><button class="copy"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path></svg></button></div><p>To give you an idea what this does, here's your HTML <em>without</em> <code>staticOnly</code> set:</p><div class="_1LYYVvjlAsI0ak-3q0HM3f"><pre class="refractor"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>app-root<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- Your app's rendered content here --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Your app's script included on the page, which has to be loaded and run again... --&gt;</span>
<div class="refractor-marker"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>myApp.js<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</div>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><button class="copy"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path></svg></button></div><p>... and here's your HTML <em>with</em> <code>staticOnly</code> set:</p><div class="_1LYYVvjlAsI0ak-3q0HM3f"><pre class="refractor"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>app-root<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- Your app's rendered content here --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Your app's script excluded from the page, which makes it faster! --&gt;</span>
<div class="refractor-marker">
</div>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><button class="copy"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path></svg></button></div><p>Remember, you should only use this feature if your content is truly static. For dynamic content -- essentially if your app needs <strong>ANY</strong> JavaScript to run as the reader goes through your page -- then you'll have to keep you prerendered app dynamic.</p><h2 id="Advanced-techniques">Advanced techniques</h2><p>Prerendering JS content is a very powerful feature that in many cases is completely approachable using the graphics rig. There are, however, lots of caveats in more complex cases.</p><h3 id="Using-local-data">Using local data</h3><p>If you need to include some local data in your app, it's better to put your JSON in the JS folder near your app and directly import it into your script.</p><blockquote><ul><li>src/<ul><li>js/<ul><li>myApp.js</li><li><strong>myData.json</strong></li></ul></li></ul></li></ul></blockquote><div class="_1LYYVvjlAsI0ak-3q0HM3f"><pre class="refractor"><code class="language-js"><span class="token comment">// myApp.js</span>
<span class="token keyword">import</span> myData <span class="token keyword">from</span> <span class="token string">'./myData.json'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> myTemplate <span class="token keyword">from</span> <span class="token string">'myTemplate.ejs'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">myTemplate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> data<span class="token punctuation">:</span> myData <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><button class="copy"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path></svg></button></div><h3 id="Using-remote-data-async">Using remote data (async)</h3><p>If you need to get some data from a remote source, like an API or an already published JSON file, make your app's default export function asynchronous and use <code>fetch</code>:</p><div class="_1LYYVvjlAsI0ak-3q0HM3f"><pre class="refractor"><code class="language-js"><span class="token comment">// myApp.js</span>
<span class="token keyword">import</span> myTemplate <span class="token keyword">from</span> <span class="token string">'myTemplate.ejs'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'https://myAPI.com/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> myData <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">myTemplate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> data<span class="token punctuation">:</span> myData <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><button class="copy"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path></svg></button></div><h3 id="Multiple-EJS-templates">Multiple EJS templates</h3><p>When using multiple EJS templates, remember that your app's default export function must return <em>a single string of HTML.</em></p><p>If multiple templates are creating different parts of your content, you can use template strings to combine them into a single string:</p><div class="_1LYYVvjlAsI0ak-3q0HM3f"><pre class="refractor"><code class="language-js"><span class="token comment">// myApp.js</span>
<span class="token keyword">import</span> myChart <span class="token keyword">from</span> <span class="token string">'chartTemplate.ejs'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> myTable <span class="token keyword">from</span> <span class="token string">'tableTemplate.ejs'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">appContent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div class='app-container'&gt;
    &lt;div class='chart-container'&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">myChart</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment">/* ... */</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
    &lt;div class='table-container'&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">myTable</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment">/* ... */</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
  &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">APP_ROOT</span> <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'app-root'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token constant">APP_ROOT</span><span class="token punctuation">.</span><span class="token function">hasChildNodes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token constant">APP_ROOT</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token function">appContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">appContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><button class="copy"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path></svg></button></div><h3 id="Static-shells">Static shells</h3><p>One common pattern is to create a "shell" of the static elements of your page you know won't change in response to reader interactions, then hook interactive content into that shell.</p><p>Here's a simple example of how to do it in the rig:</p><p>First, we write a prerendered app to create our "shell" elements...</p><div class="_1LYYVvjlAsI0ak-3q0HM3f"><pre class="refractor"><code class="language-js"><span class="token comment">// src/js/myApp.js</span>
<span class="token keyword">const</span> <span class="token function-variable function">makeHTML</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  &lt;div id='map-container'&gt;&lt;/div&gt;
  &lt;div id='chart-container'&gt;&lt;/div&gt;
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">ROOT</span> <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'app-root'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token constant">ROOT</span><span class="token punctuation">.</span><span class="token function">hasChildNodes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token constant">ROOT</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token function">makeHTML</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">makeHTML</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><button class="copy"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path></svg></button></div><p>... next, register that prerendered app as a <code>staticOnly</code> application ...</p><div class="_1LYYVvjlAsI0ak-3q0HM3f"><pre class="refractor"><code class="language-js"><span class="token comment">// src/js/prerenderApps.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    script<span class="token punctuation">:</span> <span class="token string">'myApp.js'</span><span class="token punctuation">,</span>
    selector<span class="token punctuation">:</span> <span class="token string">'#app-root'</span><span class="token punctuation">,</span>
    staticOnly<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><button class="copy"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path></svg></button></div><p>... lastly, in our main script, we can hook into the shell elements ...</p><div class="_1LYYVvjlAsI0ak-3q0HM3f"><pre class="refractor"><code class="language-js"><span class="token comment">// src/js/app.js</span>
<span class="token keyword">import</span> Map <span class="token keyword">from</span> <span class="token string">'./myMap.js'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Chart <span class="token keyword">from</span> <span class="token string">'./myChart.js'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  container<span class="token punctuation">:</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'map-container'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> chart <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Chart</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  container<span class="token punctuation">:</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'chart-container'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
chart<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><button class="copy"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path></svg></button></div><p><strong>Important caveats:</strong> If your prerendered app is async, this pattern won't work in development, where the main script will likely fire before the shell is rendered. It's also generally not a good idea to write prerendered apps that depend on elements created by other prerendered apps. Execution order between prerendered apps can't be guaranteed.</p><h3 id="More-configuration">More configuration</h3><p>The rig uses our own webpack plugin, <a href="https://github.com/reuters-graphics/html-webpack-prerender-plugin">html-webpack-prerender-plugin</a>, to prerender JS apps. You can pass additional configuration to the plugin through the <code>pluginOptions</code> key.</p><div class="_1LYYVvjlAsI0ak-3q0HM3f"><pre class="refractor"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    script<span class="token punctuation">:</span> <span class="token string">'myApp.js'</span><span class="token punctuation">,</span>
    selector<span class="token punctuation">:</span> <span class="token string">'#app-root'</span><span class="token punctuation">,</span>
<div class="refractor-marker">    pluginOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
</div><div class="refractor-marker">      scope<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</div><div class="refractor-marker">      props<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</div><div class="refractor-marker">      injectPropsTo<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
</div><div class="refractor-marker">    <span class="token punctuation">}</span>
</div>  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span></code></pre><button class="copy"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path></svg></button></div><p>Read more in the plugin's <a href="https://github.com/reuters-graphics/html-webpack-prerender-plugin/blob/master/docs/options.md">configuration docs</a> and <a href="https://github.com/reuters-graphics/html-webpack-prerender-plugin#next">examples</a>.</p></div></div></div></div></div></div></div></div>
  <script type="text/javascript" src="/style/app.d3796ae0192cb7a4d59c.js"></script>

</body></html>